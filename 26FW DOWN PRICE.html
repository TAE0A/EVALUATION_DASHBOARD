<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>26FW ë‹¤ìš´ ë‹¨ê°€ ìƒìŠ¹ë¥  ë¶„ì„</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif; background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); padding:30px 20px; min-height:100vh; }
        .container { max-width:1600px; margin:0 auto; }
        .header { text-align:center; color:white; margin-bottom:40px; }
        .header h1 { font-size:2.5em; margin-bottom:10px; text-shadow:2px 2px 4px rgba(0,0,0,0.3); }
        .header p { font-size:1.1em; opacity:.9; }
        .dashboard-row { display:grid; grid-template-columns:repeat(2,1fr); gap:25px; margin-bottom:25px; }
        .dashboard-row-single { display:flex; justify-content:center; margin-bottom:25px; }
        .card { background:white; border-radius:15px; padding:30px; box-shadow:0 10px 30px rgba(0,0,0,0.2); width:100%; }
        .card-single { background:white; border-radius:15px; padding:30px; box-shadow:0 10px 30px rgba(0,0,0,0.2); max-width:950px; width:100%; }
        .card-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; padding-bottom:15px; border-bottom:3px solid #667eea; }
        .card-title { font-size:1.5em; font-weight:bold; color:#333; }
        .item-badge { background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:white; padding:8px 16px; border-radius:20px; font-size:.9em; font-weight:bold; }
        .price-summary-compact { display:flex; justify-content:space-around; align-items:flex-start; padding:15px; background:#f8f9fa; border-radius:10px; margin-bottom:25px; gap:20px; }
        .price-item-compact { text-align:center; flex:1; }
        .price-label-compact { font-size:.75em; color:#666; margin-bottom:5px; font-weight:600; }
        .price-value-compact { font-size:1.4em; font-weight:bold; color:#444; }
        .price-change { font-size:.85em; font-weight:bold; margin-top:3px; }
        .price-change.positive { color:#e74c3c; }
        .price-change.negative { color:#27ae60; }
        .chart-container { position:relative; height:480px; margin-top:20px; }
        .legend-custom { display:flex; justify-content:center; gap:25px; margin-top:15px; padding:15px; background:#f8f9fa; border-radius:8px; flex-wrap:wrap; }
        .legend-item { display:flex; align-items:center; gap:8px; }
        .legend-color { width:30px; height:4px; border-radius:2px; }
        .legend-text { font-size:.85em; color:#555; font-weight:600; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š 26FW ë‹¤ìš´ ë‹¨ê°€ ìƒìŠ¹ë¥  ë¶„ì„ ë¦¬í¬íŠ¸</h1>
            <p>ì‹œì¦Œë³„ ë‹¨ê°€ ì¶”ì´ ë° ì¦ê°ë¥  ë¹„êµ</p>
        </div>

        <div class="dashboard-row">
            <!-- 80/20 DUCK -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">80/20 DUCK</div>
                    <div class="item-badge">ì˜¤ë¦¬í„¸</div>
                </div>
                <div class="price-summary-compact">
                    <div class="price-item-compact">
                        <div class="price-label-compact">25FW ë‹¨ê°€</div>
                        <div class="price-value-compact">$44.63</div>
                    </div>
                    <div class="price-item-compact">
                        <div class="price-label-compact">26FW 11ì›” ë‹¨ê°€</div>
                        <div class="price-value-compact">$54.96</div>
                        <div class="price-change positive">â–² 23.1%</div>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="duck8020Chart"></canvas>
                </div>
                <div class="legend-custom">
                    <div class="legend-item"><div class="legend-color" style="background:#9b59b6;"></div><div class="legend-text">25FW ë‹¨ê°€</div></div>
                    <div class="legend-item"><div class="legend-color" style="background:#3498db;"></div><div class="legend-text">26FW ë‹¨ê°€</div></div>
                </div>
            </div>

            <!-- 90/10 DUCK -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">90/10 DUCK</div>
                    <div class="item-badge">í”„ë¦¬ë¯¸ì—„ ì˜¤ë¦¬í„¸</div>
                </div>
                <div class="price-summary-compact">
                    <div class="price-item-compact">
                        <div class="price-label-compact">24FW</div>
                        <div class="price-value-compact">$50.21</div>
                    </div>
                    <div class="price-item-compact">
                        <div class="price-label-compact">25FW</div>
                        <div class="price-value-compact">$69.80</div>
                    </div>
                    <div class="price-item-compact">
                        <div class="price-label-compact">26FW 11ì›”</div>
                        <div class="price-value-compact">$70.70</div>
                        <div class="price-change positive" style="font-size:0.75em;">vs 24FW â–²40.7%</div>
                        <div class="price-change positive" style="font-size:0.75em;">vs 25FW â–²1.2%</div>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="duck9010Chart"></canvas>
                </div>
                <div class="legend-custom">
                    <div class="legend-item"><div class="legend-color" style="background:#e74c3c;"></div><div class="legend-text">24FW ë‹¨ê°€</div></div>
                    <div class="legend-item"><div class="legend-color" style="background:#9b59b6;"></div><div class="legend-text">25FW ë‹¨ê°€</div></div>
                    <div class="legend-item"><div class="legend-color" style="background:#3498db;"></div><div class="legend-text">26FW ë‹¨ê°€</div></div>
                </div>
            </div>
        </div>

        <!-- 80/20 GOOSE -->
        <div class="dashboard-row-single">
            <div class="card-single">
                <div class="card-header">
                    <div class="card-title">80/20 GOOSE</div>
                    <div class="item-badge">ê±°ìœ„í„¸</div>
                </div>
                <div class="price-summary-compact">
                    <div class="price-item-compact">
                        <div class="price-label-compact">24FW</div>
                        <div class="price-value-compact">$95.67</div>
                    </div>
                    <div class="price-item-compact">
                        <div class="price-label-compact">25FW</div>
                        <div class="price-value-compact">$87.78</div>
                    </div>
                    <div class="price-item-compact">
                        <div class="price-label-compact">26FW 11ì›”</div>
                        <div class="price-value-compact">$93.70</div>
                        <div class="price-change negative" style="font-size:0.75em;">vs 24FW â–¼2.0%</div>
                        <div class="price-change positive" style="font-size:0.75em;">vs 25FW â–²6.8%</div>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="goose8020Chart"></canvas>
                </div>
                <div class="legend-custom">
                    <div class="legend-item"><div class="legend-color" style="background:#e74c3c;"></div><div class="legend-text">24FW ë‹¨ê°€</div></div>
                    <div class="legend-item"><div class="legend-color" style="background:#9b59b6;"></div><div class="legend-text">25FW ë‹¨ê°€</div></div>
                    <div class="legend-item"><div class="legend-color" style="background:#3498db;"></div><div class="legend-text">26FW ë‹¨ê°€</div></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        Chart.register({
            id:'dataLabelsPlugin',
            afterDatasetsDraw:function(chart){
                var ctx=chart.ctx; const chartId=chart.canvas.id;
                const OFFSETS={ 'duck8020Chart':{top:30,bottom:120}, 'duck9010Chart':{top:270,bottom:320}, 'goose8020Chart':{top:90,bottom:130} };
                const cfg=OFFSETS[chartId]||{top:30,bottom:30};
                const topGuideY=chart.chartArea.top+cfg.top;
                const bottomGuideY=chart.chartArea.bottom-cfg.bottom;
                const UNDER_OFFSET=32, OVER_OFFSET=43;
                const underVs24=(chartId==='duck9010Chart');
                const underVs25=(chartId==='duck8020Chart'||chartId==='goose8020Chart');
                const overVs24 =(chartId==='duck8020Chart'||chartId==='goose8020Chart');
                const overVs25 =(chartId==='duck9010Chart');

                chart.data.datasets.forEach(function(dataset,i){
                    var meta=chart.getDatasetMeta(i);
                    if(!meta.hidden){
                        meta.data.forEach(function(element,index){
                            ctx.save();
                            var is24=dataset.label==='24FW ë‹¨ê°€';
                            var is25=dataset.label==='25FW ë‹¨ê°€';
                            var showThis=true;
                            if(is24||is25){
                                var lastIdx=meta.data.length-1; // ë§ˆì§€ë§‰(11ì›”)ë§Œ í‘œê¸°
                                showThis=(index===lastIdx);
                            }
                            if(showThis){
                                ctx.fillStyle=dataset.borderColor;
                                ctx.font='bold 12px sans-serif';
                                ctx.textAlign='center'; ctx.textBaseline='bottom';
                                var dataString='$'+dataset.data[index].toFixed(2);
                                var position=element.tooltipPosition();
                                ctx.fillText(dataString, position.x, position.y-14);
                            }
                            ctx.restore();
                        });

                        if(meta.data.length>0){
                            var lastElement=meta.data[meta.data.length-1];
                            var position=lastElement.tooltipPosition();
                            ctx.save();
                            ctx.fillStyle=dataset.borderColor;
                            ctx.font='bold 14px sans-serif';
                            ctx.textAlign='left'; ctx.textBaseline='middle';
                            var label=dataset.label.replace(' ë‹¨ê°€','');
                            ctx.fillText(label, position.x+30, position.y);
                            ctx.restore();
                        }
                    }
                });

                var fw26=null, fw24=null, fw25=null, meta26=null, meta24=null, meta25=null;
                chart.data.datasets.forEach(function(dataset,i){
                    if(dataset.label==='26FW ë‹¨ê°€'){ fw26=dataset; meta26=chart.getDatasetMeta(i); }
                    else if(dataset.label==='24FW ë‹¨ê°€'){ fw24=dataset; meta24=chart.getDatasetMeta(i); }
                    else if(dataset.label==='25FW ë‹¨ê°€'){ fw25=dataset; meta25=chart.getDatasetMeta(i); }
                });

                if(fw26 && meta26){
                    meta26.data.forEach(function(point26,index){
                        if(fw24 && meta24){
                            var change=((fw26.data[index]-fw24.data[index])/fw24.data[index]*100);
                            var midY= overVs24&&point26?(point26.y-OVER_OFFSET):(underVs24&&point26?(point26.y+UNDER_OFFSET):topGuideY);
                            ctx.save(); ctx.font='bold 12px sans-serif';
                            var text=(change>=0?'â–²':'â–¼')+Math.abs(change).toFixed(1)+'%';
                            var metrics=ctx.measureText(text);
                            ctx.fillStyle='rgba(255,240,240,.95)';
                            ctx.fillRect(point26.x-metrics.width/2-5,midY-8,metrics.width+10,16);
                            ctx.fillStyle=change>=0?'#e74c3c':'#27ae60';
                            ctx.textAlign='center'; ctx.textBaseline='middle';
                            ctx.fillText(text, point26.x, midY); ctx.restore();
                        }
                        if(fw25 && meta25){
                            var change=((fw26.data[index]-fw25.data[index])/fw25.data[index]*100);
                            var midY= overVs25&&point26?(point26.y-OVER_OFFSET):(underVs25&&point26?(point26.y+UNDER_OFFSET):bottomGuideY);
                            ctx.save(); ctx.font='bold 12px sans-serif';
                            var text=(change>=0?'â–²':'â–¼')+Math.abs(change).toFixed(1)+'%';
                            var metrics=ctx.measureText(text);
                            ctx.fillStyle='rgba(240,240,255,.95)';
                            ctx.fillRect(point26.x-metrics.width/2-5,midY-8,metrics.width+10,16);
                            ctx.fillStyle=change>=0?'#e74c3c':'#27ae60';
                            ctx.textAlign='center'; ctx.textBaseline='middle';
                            ctx.fillText(text, point26.x, midY); ctx.restore();
                        }
                    });
                }
            }
        });

        var commonOpts = {
            responsive:true, maintainAspectRatio:false,
            layout:{ padding:{ left:10, right:70, top:30, bottom:10 } },
            plugins:{ legend:{ display:false }, tooltip:{ backgroundColor:'rgba(0,0,0,0.8)', padding:12 } },
            scales:{
                y:{ title:{ display:true, text:'ë‹¨ê°€ ($)', font:{ size:14, weight:'bold' } },
                    ticks:{ callback:function(v){ return '$'+v.toFixed(2); }, font:{ size:12 } },
                    grid:{ color:'rgba(0,0,0,0.05)' } },
                x:{ title:{ display:true, text:'26FW ì›”ë³„', font:{ size:13, weight:'bold' } }, ticks:{ font:{ size:12 } }, grid:{ display:false } }
            }
        };

        // 80/20 DUCK
        new Chart(document.getElementById('duck8020Chart'),{
            type:'line',
            data:{
                labels:['7ì›”','8ì›”','9ì›”','10ì›”','11ì›”'],
                datasets:[
                    { label:'25FW ë‹¨ê°€', data:[44.63,44.63,44.63,44.63,44.63], borderColor:'#9b59b6', borderWidth:3, borderDash:[5,5], tension:0, pointRadius:5 },
                    { label:'26FW ë‹¨ê°€', data:[46.27,48.43,47.93,51.70,54.96], borderColor:'#124e77', borderWidth:4, tension:.3, pointRadius:6 }
                ]
            },
            options: commonOpts
        });

        // 90/10 DUCK
        new Chart(document.getElementById('duck9010Chart'),{
            type:'line',
            data:{
                labels:['7ì›”','8ì›”','9ì›”','10ì›”','11ì›”'],
                datasets:[
                    { label:'24FW ë‹¨ê°€', data:[50.21,50.21,50.21,50.21,50.21], borderColor:'#e74c3c', borderWidth:3, borderDash:[5,5], tension:0, pointRadius:5 },
                    { label:'25FW ë‹¨ê°€', data:[69.80,69.80,69.80,69.80,69.80], borderColor:'#9b59b6', borderWidth:3, borderDash:[5,5], tension:0, pointRadius:5 },
                    { label:'26FW ë‹¨ê°€', data:[57.77,59.77,59.27,67.90,70.70], borderColor:'#124e77', borderWidth:4, tension:.3, pointRadius:6 }
                ]
            },
            options: commonOpts
        });

        // 80/20 GOOSE
        new Chart(document.getElementById('goose8020Chart'), {
  type: 'line',
  data: {
    // ê¸°ì¡´ ë¼ë²¨ ë°°ì—´ì— 11ì›”ì´ ì´ë¯¸ ë“¤ì–´ê°€ ìˆë‹¤ë©´ ê·¸ëŒ€ë¡œ ë‘ê³ , ì—†ìœ¼ë©´ ì¶”ê°€í•˜ì„¸ìš”.
    labels: ['7ì›”','8ì›”','9ì›”','10ì›”','11ì›”'],
    datasets: [
      {
        label: '24FW ë‹¨ê°€',
        data: [95.67, 95.67, 95.67, 95.67, 95.67],  // ê¸°ì¡´ ê°’ ìœ ì§€
        borderColor: '#e74c3c',
        borderWidth: 3,
        borderDash: [5, 5],
        tension: 0,
        pointRadius: 5,
        pointBackgroundColor: '#fff',
        pointBorderColor: '#e74c3c'
      },
      {
        label: '25FW ë‹¨ê°€',
        data: [87.78, 87.78, 87.78, 87.78, 87.78],  // ê¸°ì¡´ ê°’ ìœ ì§€
        borderColor: '#9b59b6',
        borderWidth: 3,
        borderDash: [5, 5],
        tension: 0,
        pointRadius: 5,
        pointBackgroundColor: '#fff',
        pointBorderColor: '#9b59b6'
      },
      {
        label: '26FW ë‹¨ê°€',
        // 11ì›” ê°’ì´ 93.70(ë˜ëŠ” 93.7)ìœ¼ë¡œ ì´ë¯¸ ë°˜ì˜ë¼ ìˆë‹¤ë©´ ê·¸ëŒ€ë¡œ ë‘ì„¸ìš”.
        data: [88.43, 87.10, 85.43, 88.30, 93.70],
        borderColor: '#124e77',
        borderWidth: 4,
        tension: 0.3,
        pointRadius: 6,
        pointBackgroundColor: '#fff',
        pointBorderColor: '#124e77'
      }
    ]
  },
  options: {
    // âš ï¸ ì—¬ê¸°ë¶€í„°ê°€ í•µì‹¬: ë””ìì¸Â·í°íŠ¸Â·ìƒ‰ìƒÂ·ê°„ê²© ë“±ì€ ê·¸ëŒ€ë¡œ ë‘ê³  yì¶• ë²”ìœ„ë§Œ ì‚´ì§ ì¡°ì •
    responsive: true,
    maintainAspectRatio: false,
    layout: { padding: { left: 10, right: 70, top: 30, bottom: 10 } },
    plugins: {
      legend: { display: false },
      tooltip: { backgroundColor: 'rgba(0,0,0,0.8)', padding: 12 }
    },
    scales: {
      y: {
        // â–¼ ê¸°ì¡´ min: 84 â†’ 82 ë¡œë§Œ ë‚®ì¶°ì„œ 89~96 êµ¬ê°„ì´ ìƒëŒ€ì ìœ¼ë¡œ ë” ì–‡ê²Œ ë³´ì´ê²Œ í•¨
        min: 82,
        // â–¼ ê¸°ì¡´ max: 94.5(ë˜ëŠ” 94) â†’ 96 ìœ¼ë¡œ ì˜¬ë ¤ì„œ 24FW(95.67)ê°€ ìƒë‹¨ì— ì •í™•íˆ ë³´ì´ê²Œ í•¨
        max: 96,
        // â–¼ í˜¹ì‹œ ê¸°ì¡´ì— ìˆì—ˆë˜ íŠ¹ìˆ˜ ë¼ë²¨ í•´í¬(ì˜ˆ: if(v===92) return '$96.00';)ëŠ” ì œê±°í•˜ì„¸ìš”.
        ticks: {
          // ë¼ë²¨ ìŠ¤íƒ€ì¼/í¬ë§·ì€ ê¸°ì¡´ëŒ€ë¡œ ìœ ì§€
          callback: function(v){ return '$' + v.toFixed(2); },
          font: { size: 12 }
        },
        title: { display: true, text: 'ë‹¨ê°€ ($)', font: { size: 14, weight: 'bold' } },
        grid: {
          // ê¸°ì¡´ grid ìŠ¤íƒ€ì¼ ìœ ì§€
          color: 'rgba(0,0,0,0.05)'
        }
      },
      x: {
        title: { display: true, text: '26FW ì›”ë³„', font: { size: 13, weight: 'bold' } },
        ticks: { font: { size: 12 } },
        grid: { display: false }
      }
    }
  }
});
</script>
</body>
</html>
